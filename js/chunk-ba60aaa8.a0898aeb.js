(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-ba60aaa8"],{"494a":function(t,e,a){"use strict";a.r(e);a("a434"),a("99af");var i=a("b76a"),s=a.n(i),r=(a("b0c0"),a("cd3f")),n=a.n(r),l={name:"KanbanDrawer",props:{visible:{type:Boolean,required:!0},dataSource:{type:Object,required:!0}},data:function(){return{editData:{}}},watch:{dataSource:{handler:function(t){this.editData=n()(t)},immediate:!0}},methods:{uploadAttachment:function(){var t=document.getElementById("attachment"),e=this;t.onchange=function(){var t,a=((null===(t=this.files)||void 0===t?void 0:t[0])||{}).name;e.editData.fileName=a},t.click()},deleteBoard:function(){this.onCloseDrawer()},onCloseDrawer:function(){this.$emit("close")}}},c=a("2877"),o=Object(c.a)(l,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("a-drawer",{attrs:{width:"400",closable:!1,mask:!1,visible:t.visible},scopedSlots:t._u([{key:"title",fn:function(){return[a("div",{staticClass:"flex items-center"},[a("h3",[t._v(t._s(t.editData.title))]),a("feather",{staticClass:"ml-auto cursor-pointer",attrs:{size:"21",type:"x"},on:{click:t.onCloseDrawer}})],1)]},proxy:!0}])},[a("div",[a("h4",{staticClass:"mb-2 text-gray-500"},[t._v("å¡ç‰‡æ ‡é¢˜")]),a("a-input",{attrs:{size:"large",placeholder:"è¯·è¾“å…¥æ ‡é¢˜ä¿¡æ¯"},model:{value:t.editData.title,callback:function(e){t.$set(t.editData,"title",e)},expression:"editData.title"}})],1),a("div",[a("h4",{staticClass:"mt-6 mb-2 text-gray-500"},[t._v("å®Œæˆæ—¶é—´")]),a("a-date-picker",{staticClass:"w-full",attrs:{size:"large"},model:{value:t.editData.time,callback:function(e){t.$set(t.editData,"time",e)},expression:"editData.time"}})],1),a("div",{staticClass:"flex justify-between items-start"},[a("div",{staticClass:"w-1/2"},[a("h4",{staticClass:"mt-6 mb-2 text-gray-500"},[t._v("é¢œè‰²æ ‡ç­¾")]),a("a-dropdown",{attrs:{trigger:["click"]},scopedSlots:t._u([{key:"overlay",fn:function(){return[a("a-menu",t._l(["primary","success","warning","danger","info","secondary"],(function(e,i){return a("a-menu-item",{key:i,staticClass:"flex items-center",on:{click:function(a){t.editData.label=e}}},[a("div",{staticClass:"w-5 h-5 mr-2 rounded-full",class:"bg-"+e}),t._v(" "+t._s(e.toUpperCase())+" ")])})),1)]},proxy:!0}])},[a("div",{staticClass:"w-10 h-10 mr-2 rounded-full cursor-pointer shadow-md",class:"bg-"+t.editData.label})])],1),a("div",{staticClass:"w-1/2"},[a("h4",{staticClass:"mt-6 mb-2 text-gray-500"},[t._v("æˆå‘˜")]),a("div",{staticClass:"flex items-center"},[a("a-avatar",{staticClass:"mr-3 bg-secondary-light cursor-pointer",attrs:{size:"large",src:t.$store.state.user.info.avatar}}),a("a-avatar",{staticClass:"bg-secondary-light cursor-pointer",attrs:{size:"large"}},[a("feather",{staticClass:"secondary",staticStyle:{"margin-top":"7px"},attrs:{type:"plus"}})],1)],1)])]),a("div",[a("h4",{staticClass:"mt-6 mb-2 text-gray-500"},[t._v("æ·»åŠ é™„ä»¶")]),a("a-input",{attrs:{size:"large",placeholder:"è¯·è¾“å…¥é™„ä»¶é“¾æ¥"},scopedSlots:t._u([{key:"addonAfter",fn:function(){return[a("div",{staticClass:"cursor-pointer",on:{click:t.uploadAttachment}},[t._v("æˆ–ç‚¹å‡»ä¸Šä¼ é™„ä»¶")])]},proxy:!0}]),model:{value:t.editData.fileName,callback:function(e){t.$set(t.editData,"fileName",e)},expression:"editData.fileName"}}),a("input",{attrs:{id:"attachment",type:"file",hidden:""}})],1),a("div",{staticClass:"relative"},[a("h4",{staticClass:"mt-6 mb-2 text-gray-500"},[t._v("ç¼–è¾‘å†…å®¹")]),a("a-textarea",{attrs:{placeholder:"åœ¨è¿™é‡Œç¼–è¾‘ä»»åŠ¡å†…å®¹","auto-size":{minRows:6,maxRows:10}},model:{value:t.editData.content,callback:function(e){t.$set(t.editData,"content",e)},expression:"editData.content"}}),a("div",{staticClass:"absolute bottom-0 right-0 m-2 flex items-center"},t._l(["bold","italic","link","youtube","image"],(function(t){return a("feather",{key:t,staticClass:"mr-3 cursor-pointer",attrs:{size:"18",type:t}})})),1)],1),a("div",{staticClass:"absolute right-0 bottom-0 mr-3 mb-3 flex items-center"},[a("a-popconfirm",{attrs:{title:"æ­¤æ“ä½œå°†åˆ é™¤è¯¥çœ‹æ¿ï¼Œæ˜¯å¦ç»§ç»­ï¼Ÿ","ok-text":"åˆ é™¤","cancel-text":"ç‚¹é”™äº†"},on:{confirm:t.deleteBoard}},[a("a-button",{staticClass:"mr-5 flex items-center",attrs:{size:"large",type:"danger"}},[a("feather",{staticClass:"mr-2",attrs:{size:"20",type:"trash"}}),t._v(" åˆ  é™¤ ")],1)],1),a("a-button",{staticClass:"flex items-center",attrs:{size:"large",type:"primary"},on:{click:t.onCloseDrawer}},[a("feather",{staticClass:"mr-2",attrs:{size:"20",type:"save"}}),t._v(" ä¿ å­˜ ")],1)],1)])}),[],!1,null,null,null).exports,d={name:"Kanban",components:{draggable:s.a,KanbanDrawer:o},data:function(){return{kbList:[{id:"board1",title:"å®šåˆ¶ä¸»é¢˜",dataList:[{id:"1",label:"primary",content:"å›è‡ªæ•…ä¹¡æ¥ï¼Œåº”çŸ¥æ•…ä¹¡äº‹ã€‚æ¥æ—¥ç»®çª—å‰ï¼Œå¯’æ¢…è‘—èŠ±æœªï¼ŸğŸŒº",items:[{item:"time",value:"1-6"},{item:"msg",value:14}],members:[{id:"1",avatar:"å¤´"},{id:"2",avatar:"åƒ"}]},{id:"2",label:"warning",content:"æ˜¨å¤œè£™å¸¦è§£ï¼Œä»ŠæœèŸ¢å­é£ã€‚",items:[{item:"time",value:"2-4"},{item:"msg",value:19}],members:[{id:"1",avatar:"B"},{id:"2",avatar:"V"}]},{id:"3",label:"danger",content:"é“…åä¸å¯å¼ƒï¼Œè«æ˜¯è—ç §å½’ã€‚",items:[{item:"time",value:"1-9"}]},{id:"4",label:"success",content:"é—ºä¸­å°‘å¦‡ä¸çŸ¥æ„ï¼Œæ˜¥æ—¥å‡å¦†ä¸Šç¿ æ¥¼ã€‚",items:[{item:"time",value:"6-6"},{item:"msg",value:1}]},{id:"5",label:"info",content:"å¿½è§é™Œå¤´æ¨æŸ³è‰²ï¼Œæ‚”æ•™å¤«å©¿è§…å°ä¾¯ã€‚",items:[{item:"time",value:"4-1"},{item:"msg",value:45}],members:[{id:"1",avatar:"A"},{id:"2",avatar:"V"}]}]},{id:"board2",title:"å¸¸è§é—®é¢˜",dataList:[{id:"6",label:"secondary",content:"ä¹æœˆä¹æ—¥å¿†å±±ä¸œå…„å¼Ÿ",items:[{item:"time",value:"6-9"},{item:"msg",value:19}]},{id:"7",label:"secondary",content:"ç‹¬åœ¨å¼‚ä¹¡ä¸ºå¼‚å®¢ï¼Œæ¯é€¢ä½³èŠ‚å€æ€äº²ã€‚",items:[{item:"time",value:"7-1"},{item:"msg",value:11}]},{id:"8",content:"é¥çŸ¥å…„å¼Ÿç™»é«˜å¤„ï¼Œéæ’èŒ±è¸å°‘ä¸€äººã€‚ğŸ¸"},{id:"9",content:'<img width=100% src="https://portrait.gitee.com/uploads/avatars/user/1608/4826670_chinesee_1578975163.png!avatar200"><p>ç‚¹å‡»ç¼–è¾‘çœ‹æ¿å¡ç‰‡ ğŸ‘€</p>'}]},{id:"board3",title:"æ”¯æŒæˆ‘ä»¬",dataList:[{id:"10",label:"success",content:"åƒå±±é¸Ÿé£ç»ï¼Œä¸‡å¾„äººè¸ªç­ã€‚",items:[{item:"time",value:"6-9"},{item:"msg",value:19}],members:[{id:"1",avatar:"æˆ‘"},{id:"2",avatar:"æ˜¯"},{id:"3",avatar:"å¤´"},{id:"4",avatar:"åƒ"}]},{id:"11",label:"primary",content:"å­¤èˆŸè“‘ç¬ ç¿",items:[{item:"time",value:"7-16"},{item:"msg",value:11}],members:[{id:"1",avatar:"å¤´"},{id:"2",avatar:"åƒ"}]},{id:"12",label:"warning",content:"ç‹¬é’“å¯’æ±Ÿé›ªğŸ£",items:[{item:"time",value:"4-9"},{item:"msg",value:19}]},{id:"13",label:"danger",content:"ç‹¬åœ¨å¼‚ä¹¡ä¸ºå¼‚å®¢ï¼Œæ¯é€¢ä½³èŠ‚å€æ€äº²ã€‚",items:[{item:"time",value:"7-1"},{item:"msg",value:11}],members:[{id:"1",avatar:"å¤´"},{id:"2",avatar:"åƒ"}]}]}],itemIcon:{time:"clock",msg:"message-square"},dragOptions:{animation:200,group:"description",disabled:!1,ghostClass:"ghost"},currAdd:{id:"",title:"",content:""},currEdit:{title:"è¿™æ˜¯ä¸€ä¸ªçœ‹æ¿æ ‡é¢˜",time:null,label:"primary",content:"",fileName:""},showDrawer:!1}},methods:{addNewBoard:function(){this.kbList.push({title:"é»˜è®¤æ ‡é¢˜",dataList:[]})},addNewItem:function(){var t=this;this.currAdd.content.length>0&&this.kbList.some((function(e){return e.title===t.currAdd.title&&(e.dataList.push({id:"10086",content:t.currAdd.content}),t.reset(),!0)}))},deleteBoard:function(t){var e=this,a=this.$createElement;this.$confirm({title:a("p",["æ­¤æ“ä½œå°†åˆ é™¤",a("span",{class:"warning"},["ã€Œ",t,"ã€"]),"çœ‹æ¿"]),content:"è¯·ç‚¹å‡»ç¡®å®šæŒ‰é’®ä»¥åˆ é™¤",onOk:function(){e.kbList.some((function(e,a,i){return e.title===t&&(i.splice(a,1),!0)}))}})},onTitleEdited:function(t,e){var a=this,i=t.target.value;this.$message.loading("æ­£åœ¨æ›´æ”¹çœ‹æ¿æ ‡é¢˜..",1.5).then((function(){a.$message.success("çœ‹æ¿æ ‡é¢˜å·²ä¿®æ”¹ä¸ºï¼š".concat(i,"-").concat(e),2.5)}))},reset:function(){this.currAdd={title:"",content:"",fileName:""}}}},m=(a("e20e"),Object(c.a)(d,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("a-button",{staticClass:"mb-4",attrs:{size:"large",type:"primary"},on:{click:t.addNewBoard}},[t._v(" æ·»åŠ ä¸€ä¸ªçœ‹æ¿ ")]),a("div",{staticClass:"kb"},t._l(t.kbList,(function(e,i){return a("div",{key:i,staticClass:"kb-col"},[a("div",{staticClass:"mb-4 flex items-center"},[a("a-input",{staticClass:"kb-col__input",on:{blur:function(a){return t.onTitleEdited(a,e.id)}},model:{value:e.title,callback:function(a){t.$set(e,"title",a)},expression:"it.title"}}),a("a-dropdown",{attrs:{trigger:["click"]},scopedSlots:t._u([{key:"overlay",fn:function(){return[a("a-menu",[a("a-menu-item",{on:{click:function(e){return t.$message.success("å·²å¤åˆ¶çœ‹æ¿é“¾æ¥")}}},[t._v(" å¤åˆ¶çœ‹æ¿é“¾æ¥ ")]),a("a-menu-item",{on:{click:function(a){return t.deleteBoard(e.title)}}},[t._v(" åˆ é™¤æ­¤çœ‹æ¿ ")])],1)]},proxy:!0}],null,!0)},[a("feather",{staticClass:"cursor-pointer",attrs:{size:"20",type:"more-vertical"}})],1)],1),a("draggable",t._b({model:{value:e.dataList,callback:function(a){t.$set(e,"dataList",a)},expression:"it.dataList"}},"draggable",t.dragOptions,!1),[a("transition-group",{attrs:{tag:"ul"}},t._l(e.dataList,(function(e){var i=e.id,s=e.label,r=e.content,n=e.items,l=e.members;return a("li",{key:i,staticClass:"kb-col__item",attrs:{"data-border":s},on:{click:function(e){t.showDrawer=!0}}},[a("div",{domProps:{innerHTML:t._s(r)}}),n?a("div",{staticClass:"mt-4 flex items-center text-xs"},[t._l(n,(function(e){var i=e.item,s=e.value;return a("div",{key:i,staticClass:"mr-2 flex items-center"},[a("feather",{staticClass:"mr-1",attrs:{size:"12",type:t.itemIcon[i]}}),t._v(" "+t._s(s)+" ")],1)})),a("div",{staticClass:"ml-auto flex-1 flex flex-wrap justify-end"},t._l(l,(function(e){var i=e.id,s=e.avatar;return a("a-avatar",{key:i,staticClass:"kb-col__avatar text-xs primary bg-primary-light",attrs:{size:22}},[t._v(" "+t._s(s)+" ")])})),1)],2):t._e()])})),0)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.currAdd.title===e.title,expression:"currAdd.title === it.title"}],staticClass:"mb-2"},[a("a-textarea",{staticClass:"mb-1",attrs:{"auto-size":{minRows:3,maxRows:5}},model:{value:t.currAdd.content,callback:function(e){t.$set(t.currAdd,"content","string"==typeof e?e.trim():e)},expression:"currAdd.content"}}),a("a-button",{staticClass:"mr-2",attrs:{size:"small",type:"primary"},on:{click:t.addNewItem}},[t._v(" æäº¤ ")]),a("a-button",{attrs:{size:"small",type:"danger"},on:{click:t.reset}},[t._v(" å–æ¶ˆ ")])],1),a("div",{staticClass:"flex items-center"},[a("div",{staticClass:"flex items-center cursor-pointer",on:{click:function(a){t.currAdd.title=e.title}}},[a("feather",{attrs:{size:"15",type:"plus"}}),t._v(" åˆ›å»ºæ–°é¡¹ ")],1)])],1)})),0),a("kanban-drawer",{attrs:{visible:t.showDrawer,"data-source":t.currEdit},on:{close:function(e){t.showDrawer=!1}}})],1)}),[],!1,null,"7bb570bb",null));e.default=m.exports},ceb7:function(t,e,a){},e20e:function(t,e,a){"use strict";a("ceb7")}}]);